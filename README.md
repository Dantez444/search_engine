# Поисковый движок

Консольное приложение, осуществляющее поиск релевантных документов по пользовательским запросам.

## Описание

Поисковый движок индексирует предоставленные текстовые документы и обеспечивает поиск по ключевым словам с ранжированием результатов по релевантности. Поддерживает конфигурирование через JSON-файлы и многопоточную обработку данных.

## Архитектура

Проект состоит из трех основных компонентов:

1. **ConverterJSON** - класс для работы с JSON-файлами:
   - Чтение конфигурации из файла config.json
   - Получение поисковых запросов из файла requests.json
   - Запись результатов поиска в файл answers.json

2. **InvertedIndex** - класс для создания инвертированного индекса:
   - Многопоточная индексация документов
   - Быстрый поиск слов в индексе

3. **SearchServer** - класс для поиска и ранжирования документов:
   - Обработка поисковых запросов
   - Расчет релевантности документов
   - Сортировка результатов

## Формат JSON-файлов

### config.json
```json
{
  "config": {
    "max_responses": 5
  },
  "files": [
    "resources/file001.txt",
    "resources/file002.txt",
    "resources/file003.txt",
    "resources/file004.txt"
  ]
}
```

### requests.json
```json
{
  "requests": [
    "москва",
    "не москва",
    "москва и питер",
    "и"
  ]
}
```

### answers.json (пример выходных данных)
```json
{
  "answers": {
    "request001": {
      "result": "true",
      "docid": 1,
      "rank": 1.0
    },
    "request002": {
      "result": "true",
      "relevance": [
        {
          "docid": 0,
          "rank": 1.0
        },
        {
          "docid": 2,
          "rank": 0.7
        }
      ]
    },
    "request003": {
      "result": "false"
    }
  }
}
```

## Сборка и запуск

Проект использует CMake для сборки. Необходимы следующие зависимости:
- C++17 или выше
- nlohmann/json
- Google Test (для тестирования)

### Шаги для сборки:

```
mkdir build
cd build
cmake ..
cmake --build .
```

### Запуск приложения:

```
./search_engine
```

## Тестирование

Проект включает модульные тесты, написанные с использованием Google Test. Тесты запускаются автоматически при запуске приложения. 